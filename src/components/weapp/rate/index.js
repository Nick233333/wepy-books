'use strict';

Component({
    externalClasses: ['i-class'],
    properties: {
        count: {
            type: Number,
            value: 5
        },
        value: {
            type: Number,
            value: 0
        },
        disabled: {
            type: Boolean,
            value: false
        },
        size: {
            type: Number,
            value: 20
        },
        name: {
            type: String,
            value: ''
        }
    },
    data: {
        touchesStart: {
            pageX: 0
        }
    },
    methods: {
        handleClick: function handleClick(e) {
            var data = this.data;
            if (data.disabled) {
                return;
            }
            var index = e.currentTarget.dataset.index;
            this.triggerEvent('change', {
                index: index + 1
            });
        },
        handleTouchMove: function handleTouchMove(e) {
            var data = this.data;
            if (data.disabled) {
                return;
            }
            if (!e.changedTouches[0]) {
                return;
            }
            var movePageX = e.changedTouches[0].pageX;
            var space = movePageX - data.touchesStart.pageX;

            if (space <= 0) {
                return;
            }
            var setIndex = Math.ceil(space / data.size);
            setIndex = setIndex > data.count ? data.count : setIndex;
            this.triggerEvent('change', {
                index: setIndex
            });
        }
    },
    ready: function ready() {
        var _this = this;

        var className = '.i-rate';
        var query = wx.createSelectorQuery().in(this);
        query.select(className).boundingClientRect(function (res) {
            _this.data.touchesStart.pageX = res.left || 0;
        }).exec();
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkNvbXBvbmVudCIsImV4dGVybmFsQ2xhc3NlcyIsInByb3BlcnRpZXMiLCJjb3VudCIsInR5cGUiLCJOdW1iZXIiLCJ2YWx1ZSIsImRpc2FibGVkIiwiQm9vbGVhbiIsInNpemUiLCJuYW1lIiwiU3RyaW5nIiwiZGF0YSIsInRvdWNoZXNTdGFydCIsInBhZ2VYIiwibWV0aG9kcyIsImhhbmRsZUNsaWNrIiwiZSIsImluZGV4IiwiY3VycmVudFRhcmdldCIsImRhdGFzZXQiLCJ0cmlnZ2VyRXZlbnQiLCJoYW5kbGVUb3VjaE1vdmUiLCJjaGFuZ2VkVG91Y2hlcyIsIm1vdmVQYWdlWCIsInNwYWNlIiwic2V0SW5kZXgiLCJNYXRoIiwiY2VpbCIsInJlYWR5IiwiY2xhc3NOYW1lIiwicXVlcnkiLCJ3eCIsImNyZWF0ZVNlbGVjdG9yUXVlcnkiLCJpbiIsInNlbGVjdCIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInJlcyIsImxlZnQiLCJleGVjIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxVQUFVO0FBQ05DLHFCQUFpQixDQUFDLFNBQUQsQ0FEWDtBQUVOQyxnQkFBYTtBQUNUQyxlQUFRO0FBQ0pDLGtCQUFPQyxNQURIO0FBRUpDLG1CQUFRO0FBRkosU0FEQztBQUtUQSxlQUFRO0FBQ0pGLGtCQUFPQyxNQURIO0FBRUpDLG1CQUFRO0FBRkosU0FMQztBQVNUQyxrQkFBVztBQUNQSCxrQkFBT0ksT0FEQTtBQUVQRixtQkFBUTtBQUZELFNBVEY7QUFhVEcsY0FBTztBQUNITCxrQkFBT0MsTUFESjtBQUVIQyxtQkFBUTtBQUZMLFNBYkU7QUFpQlRJLGNBQU87QUFDSE4sa0JBQU9PLE1BREo7QUFFSEwsbUJBQVE7QUFGTDtBQWpCRSxLQUZQO0FBd0JOTSxVQUFPO0FBQ0hDLHNCQUFlO0FBQ1hDLG1CQUFRO0FBREc7QUFEWixLQXhCRDtBQTZCTkMsYUFBVTtBQUNOQyxtQkFETSx1QkFDTUMsQ0FETixFQUNRO0FBQ1YsZ0JBQU1MLE9BQU8sS0FBS0EsSUFBbEI7QUFDQSxnQkFBSUEsS0FBS0wsUUFBVCxFQUFtQjtBQUNmO0FBQ0g7QUFDRCxnQkFBTVcsUUFBUUQsRUFBRUUsYUFBRixDQUFnQkMsT0FBaEIsQ0FBd0JGLEtBQXRDO0FBQ0EsaUJBQUtHLFlBQUwsQ0FBa0IsUUFBbEIsRUFBMkI7QUFDdkJILHVCQUFRQSxRQUFRO0FBRE8sYUFBM0I7QUFHSCxTQVZLO0FBV05JLHVCQVhNLDJCQVdVTCxDQVhWLEVBV1k7QUFDZCxnQkFBTUwsT0FBTyxLQUFLQSxJQUFsQjtBQUNBLGdCQUFJQSxLQUFLTCxRQUFULEVBQW1CO0FBQ2Y7QUFDSDtBQUNELGdCQUFJLENBQUNVLEVBQUVNLGNBQUYsQ0FBaUIsQ0FBakIsQ0FBTCxFQUEwQjtBQUN0QjtBQUNIO0FBQ0QsZ0JBQU1DLFlBQWFQLEVBQUVNLGNBQUYsQ0FBaUIsQ0FBakIsRUFBb0JULEtBQXZDO0FBQ0EsZ0JBQU1XLFFBQVFELFlBQVlaLEtBQUtDLFlBQUwsQ0FBa0JDLEtBQTVDOztBQUVBLGdCQUFJVyxTQUFTLENBQWIsRUFBZ0I7QUFDWjtBQUNIO0FBQ0QsZ0JBQUlDLFdBQVdDLEtBQUtDLElBQUwsQ0FBV0gsUUFBTWIsS0FBS0gsSUFBdEIsQ0FBZjtBQUNBaUIsdUJBQVdBLFdBQVlkLEtBQUtULEtBQWpCLEdBQXlCUyxLQUFLVCxLQUE5QixHQUFzQ3VCLFFBQWpEO0FBQ0EsaUJBQUtMLFlBQUwsQ0FBa0IsUUFBbEIsRUFBMkI7QUFDdkJILHVCQUFRUTtBQURlLGFBQTNCO0FBR0g7QUE5QkssS0E3Qko7QUE2RE5HLFNBN0RNLG1CQTZEQztBQUFBOztBQUNKLFlBQU1DLFlBQVksU0FBbEI7QUFDQyxZQUFJQyxRQUFRQyxHQUFHQyxtQkFBSCxHQUF5QkMsRUFBekIsQ0FBNEIsSUFBNUIsQ0FBWjtBQUNBSCxjQUFNSSxNQUFOLENBQWNMLFNBQWQsRUFBMEJNLGtCQUExQixDQUE2QyxVQUFDQyxHQUFELEVBQU87QUFDaEQsa0JBQUt6QixJQUFMLENBQVVDLFlBQVYsQ0FBdUJDLEtBQXZCLEdBQStCdUIsSUFBSUMsSUFBSixJQUFZLENBQTNDO0FBQ0gsU0FGRCxFQUVHQyxJQUZIO0FBR0g7QUFuRUssQ0FBViIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIkNvbXBvbmVudCh7XG4gICAgZXh0ZXJuYWxDbGFzc2VzOiBbJ2ktY2xhc3MnXSxcbiAgICBwcm9wZXJ0aWVzIDoge1xuICAgICAgICBjb3VudCA6IHtcbiAgICAgICAgICAgIHR5cGUgOiBOdW1iZXIsXG4gICAgICAgICAgICB2YWx1ZSA6IDVcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWUgOiB7XG4gICAgICAgICAgICB0eXBlIDogTnVtYmVyLFxuICAgICAgICAgICAgdmFsdWUgOiAwXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkIDoge1xuICAgICAgICAgICAgdHlwZSA6IEJvb2xlYW4sXG4gICAgICAgICAgICB2YWx1ZSA6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHNpemUgOiB7XG4gICAgICAgICAgICB0eXBlIDogTnVtYmVyLFxuICAgICAgICAgICAgdmFsdWUgOiAyMFxuICAgICAgICB9LFxuICAgICAgICBuYW1lIDoge1xuICAgICAgICAgICAgdHlwZSA6IFN0cmluZyxcbiAgICAgICAgICAgIHZhbHVlIDogJydcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGF0YSA6IHtcbiAgICAgICAgdG91Y2hlc1N0YXJ0IDoge1xuICAgICAgICAgICAgcGFnZVggOiAwXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1ldGhvZHMgOiB7XG4gICAgICAgIGhhbmRsZUNsaWNrKGUpe1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgICAgIGlmKCBkYXRhLmRpc2FibGVkICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckV2ZW50KCdjaGFuZ2UnLHtcbiAgICAgICAgICAgICAgICBpbmRleCA6IGluZGV4ICsgMVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlVG91Y2hNb3ZlKGUpe1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgICAgIGlmKCBkYXRhLmRpc2FibGVkICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoICFlLmNoYW5nZWRUb3VjaGVzWzBdICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW92ZVBhZ2VYID0gIGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICBjb25zdCBzcGFjZSA9IG1vdmVQYWdlWCAtIGRhdGEudG91Y2hlc1N0YXJ0LnBhZ2VYO1xuXG4gICAgICAgICAgICBpZiggc3BhY2UgPD0gMCApe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzZXRJbmRleCA9IE1hdGguY2VpbCggc3BhY2UvZGF0YS5zaXplICk7XG4gICAgICAgICAgICBzZXRJbmRleCA9IHNldEluZGV4ICA+IGRhdGEuY291bnQgPyBkYXRhLmNvdW50IDogc2V0SW5kZXggO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRXZlbnQoJ2NoYW5nZScse1xuICAgICAgICAgICAgICAgIGluZGV4IDogc2V0SW5kZXggXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSxcbiAgICByZWFkeSgpe1xuICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9ICcuaS1yYXRlJztcbiAgICAgICAgdmFyIHF1ZXJ5ID0gd3guY3JlYXRlU2VsZWN0b3JRdWVyeSgpLmluKHRoaXMpXG4gICAgICAgIHF1ZXJ5LnNlbGVjdCggY2xhc3NOYW1lICkuYm91bmRpbmdDbGllbnRSZWN0KChyZXMpPT57XG4gICAgICAgICAgICB0aGlzLmRhdGEudG91Y2hlc1N0YXJ0LnBhZ2VYID0gcmVzLmxlZnQgfHwgMDtcbiAgICAgICAgfSkuZXhlYygpXG4gICAgfVxufSk7XG4iXX0=